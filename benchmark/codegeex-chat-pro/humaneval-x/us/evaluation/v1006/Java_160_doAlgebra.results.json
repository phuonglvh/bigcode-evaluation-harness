{
  "name": "Java_160_doAlgebra",
  "language": "java",
  "prompt": "import java.util.*;\nimport java.lang.*;\n\nclass Solution {\n    /**\n    Given two lists operator, and operand. The first list has basic algebra operations, and\n    the second list is a list of integers. Use the two given lists to build the algebric\n    expression and return the evaluation of this expression.\n\n    The basic algebra operations:\n    Addition ( + )\n    Subtraction ( - )\n    Multiplication ( * )\n    Floor division ( / )\n    Exponentiation ( ** )\n\n    Example:\n    operator[\"+\", \"*\", \"-\"]\n    array = [2, 3, 4, 5]\n    result = 2 + 3 * 4 - 5\n    => result = 9\n\n    Note:\n        The length of operator list is equal to the length of operand list minus one.\n        Operand is a list of of non-negative integers.\n        Operator list has at least one operator, and operand list has at least two operands.\n     */\n    public int doAlgebra(List<String> operator, List<Integer> operand) {\n",
  "tests": "\n    }\n    public static void main(String[] args) {\n        Problem s = new Problem();\n        List<Boolean> correct = Arrays.asList(\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"**\", \"*\", \"+\")), new ArrayList<>(Arrays.asList(2, 3, 4, 5))) == 37,\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"+\", \"*\", \"-\")), new ArrayList<>(Arrays.asList(2, 3, 4, 5))) == 9,\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"/\", \"*\")), new ArrayList<>(Arrays.asList(7, 3, 4))) == 8,\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"+\", \"**\", \"**\")), new ArrayList<>(Arrays.asList(7, 5, 3, 2))) == 1953132\n        );\n        if (correct.contains(false)) {\n            throw new AssertionError();\n        }\n    }\n}",
  "results": [
    {
      "program": "\nimport java.util.*;\n\nclass Problem {\n    public int doAlgebra(List<String> operator, List<Integer> operand) {\n        String expression = String.valueOf(operand.get(0));\n        for (int i = 0; i < operator.size(); i++) {\n            expression += operator.get(i) + operand.get(i + 1);\n        }\n        return eval(expression);\n    }\n\n    private int eval(String expression) {\n        return new Object() {\n            int pos = -1, ch;\n\n            void nextChar() {\n                ch = (++pos < expression.length()) ? expression.charAt(pos) : -1;\n            }\n\n            boolean eat(int charToEat) {\n                while (ch == ' ') nextChar();\n                if (ch == charToEat) {\n                    nextChar();\n                    return true;\n                }\n                return false;\n            }\n\n            int parse() {\n                nextChar();\n                int x = parseExpression();\n                if (pos < expression.length()) throw new RuntimeException(\"Unexpected: \" + (char) ch);\n                return x;\n            }\n\n            int parseExpression() {\n                int x = parseTerm();\n                for (;;) {\n                    if (eat('+')) x += parseTerm();\n                    else if (eat('-')) x -= parseTerm();\n                    else return x;\n                }\n            }\n\n            int parseTerm() {\n                int x = parseFactor();\n                for (;;) {\n                    if (eat('*')) x *= parseFactor();\n                    else if (eat('/')) x /= parseFactor();\n                    else return x;\n                }\n            }\n\n            int parseFactor() {\n                if (eat('+')) return parseFactor();\n                if (eat('-')) return -parseFactor();\n\n                int x;\n                int startPos = this.pos;\n                if (eat('(')) {\n                    x = parseExpression();\n                    eat(')');\n                } else if ((ch >= '0' && ch <= '9') || ch == '.') {\n                    while ((ch >= '0' && ch <= '9') || ch == '.') nextChar();\n                    x = Integer.parseInt(expression.substring(startPos, this.pos));\n                } else {\n                    throw new RuntimeException(\"Unexpected: \" + (char) ch);\n                }\n\n                return x;\n            }\n        }.parse();\n    }\n\n    public static void main(String[] args) {\n        Problem solution = new Problem();\n        List<String> operators = Arrays.asList(\"+\", \"-\", \"*\");\n        List<Integer> operands = Arrays.asList(1, 2, 3, 4);\n        System.out.println(solution.doAlgebra(operators, operands));  // Output: -3\n\n    }\n    public static void main(String[] args) {\n        Problem s = new Problem();\n        List<Boolean> correct = Arrays.asList(\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"**\", \"*\", \"+\")), new ArrayList<>(Arrays.asList(2, 3, 4, 5))) == 37,\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"+\", \"*\", \"-\")), new ArrayList<>(Arrays.asList(2, 3, 4, 5))) == 9,\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"/\", \"*\")), new ArrayList<>(Arrays.asList(7, 3, 4))) == 8,\n                s.doAlgebra(new ArrayList<>(Arrays.asList(\"+\", \"**\", \"**\")), new ArrayList<>(Arrays.asList(7, 5, 3, 2))) == 1953132\n        );\n        if (correct.contains(false)) {\n            throw new AssertionError();\n        }\n    }\n}",
      "timestamp": 1732119293,
      "stdout": "",
      "stderr": "/var/folders/lb/nqc5cbfd3yb2jjr65__gy1gm0000gn/T/tmpqjhmwx2l.java:83: error: method main(String[]) is already defined in class Problem\n    public static void main(String[] args) {\n                       ^\n1 error\n",
      "exit_code": 1,
      "status": "SyntaxError"
    }
  ]
}